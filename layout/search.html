<!-- Search -->
<?php
/* 
 ***************************************************************
 | Copyright (c) 2014-2015 Atomo.com. All rights reserved.
 | @ Author	: Daniel Rios.
 ***************************************************************
*/
	if(!isset($baseUrl)) {
		require '../_redirect.php';
		header("Location:" .  $base . "404");
	}
	$searchQuery = @$_GET['q'];
?>
<script type="text/javascript">
	$(document).ready(function() {
		$('.contentFigure').on('click', '.addWatchList', addWatchList);
        $('.contentFigure').on('click', '.removeWatchList', removeWatchList);

		$('.contentFigure').on('click', '.figLink', showDetails);
	});
</script>
<main class="interface">
	<section class="search mainSection">
		<?php $contentArray = array('contentCategory' => 'producer', 'dateAdd' => false, 'querySearch' => $searchQuery, 'page' => false); require $contentDir . 'showContent.php'; if($contentClass -> contentHide == false) {?>
		<article class="searchOther">
			<span class="otherSpan"><?php echo ucfirst(langcode('people')) . ":";?></span>
			<ul class="otherUl">
				<?php foreach($addRow as $showContent => $key) {?>
				<li class="otherItem">
					<span class="itemSpan">
						<?php echo $key['producer'];?>
					</span>
				</li>
				<?php }?>
			</ul>
		</article>
		<?php } $contentArray = array('contentCategory' => 'name', 'dateAdd' => false, 'querySearch' => $searchQuery, 'page' => false); require $contentDir . 'showContent.php';?>
		<article id="headerContainer">
			<header id="searchHeader">
				<h2 id="searchResult">
					<?php echo langCode('search_title');?>
					<span class="searchSpan">
						<?php echo $totalSearch;?>
					</span>
					<?php echo langCode('results') .  ' ' . langCode('for');?>
					<span class="searchSpan">
						<?php echo $searchQuery;?>
					</span>
				</h2>
			</header>
		</article>
		<?php if($totalSearch >= 1) {?>
		<article class="contentContainer">
			<div class="contentDiv">
				<div class="contentGroup">
				<?php $contentNumber = 1; foreach($addRow as $showContent => $key) {if($key['type'] == 'serie') {$contentScroll = $key['content_id']; require $contentDir . 'getEpisodes.php';}?>
					<div class="content">
						<div class="contentLink">
							<figure class="contentFigure">
								<?php $contentFolder = getDynamicFolder($addRow[$contentNumber - 1]['type'], $mediaImageFolder);?>
								<img src="<?php echo $contentFolder . $key['content_id'] . '/image.jpg';?>"/>
								<figcaption>
									<?php if($key['type'] == 'movie') {?>
									<a class="figLinkWatch" href="<?php echo $baseUrl . langCode('watch_link') . '?id=' . $key['content_id'];?>"></a>
									<?php } elseif($key['type'] == 'serie') {?>
									<a class="figLinkWatch" href="<?php echo $baseUrl . langCode('watch_link') . '?id=' . $key['content_id'] . '&e=' . $firstEpisode['episode_id'];?>"></a>
									<?php }?>
									<a class="figLink" href="<?php echo $baseUrl . langCode('title_link') . '?id=' . $key['content_id'];?>">
										<span class="figSpan"><?php echo langCode('details');?></span>
									</a>
									<?php $watchId = $key['content_id']; require $contentDir . 'verifyContent.php';?>
									<div class="<?php echo $watchListAction;?>" data-id="<?php echo $watchId;?>"></div>
								</figcaption>
							</figure>
						</div>
					</div>
				<?php $contentNumber ++;}?>
				</div>
			</div>
		</article>
		<?php }?>
	</section>
</main>