function convertTime(e){e=Number(e);var o=Math.floor(e/3600),s=Math.floor(e%3600/60),t=Math.floor(e%3600%60);return(o>0?o+":"+(s<10?"0":""):"")+s+":"+(t<10?"0":"")+t}function destroyVideo(){$(playerBox).find(video).remove(),$(playerBox).find(videoLoad).remove(),$(playerBox).find(controlsDiv).remove(),$(mediaHolder).append('<img src="'+baseUrl+'images/error404.png"/>')}function showPlayer(e){1==videoReadyToUse?(config=e,dash=config.source.dash||!1,hls=config.source.hls||!1,progressive=config.source.progressive||!1,autoplay=config.autoplay,playerBox=document.getElementById("playerBox"),mediaHolder=document.getElementById("mediaHolder"),buttonPlay=document.getElementById("playBtn"),videoLoad=document.getElementById("mediaLoading"),controlsDiv=document.getElementById("controlsDiv"),slider=document.getElementById("progressCurrent"),bufferDiv=document.getElementById("progressBuffer"),setTime=document.getElementById("progressContainer"),timePreview=document.getElementById("timePreview"),currentTime=document.getElementById("currentVideoTime"),totalTime=document.getElementById("totalVideoTime"),mute=document.getElementById("muteButton"),volumeSlider=document.getElementById("volumeCurrent"),setVolume=document.getElementById("volumeSliderDiv"),episodesButton=document.getElementById("episodesButton"),fullScreen=document.getElementById("fullScreenButton"),1==autoplay?($(buttonPlay).removeClass("playBtn").addClass("playBtn2"),$(videoLoad).removeClass("videoPaused").addClass("loading"),setTimeout(function(){$(controlsDiv).removeClass("controlsDivShow").addClass("controlsDivHide")},3e3),startVideo()):(buttonPlay.addEventListener("click",startVideo),video.addEventListener("click",startVideo),videoLoad.addEventListener("click",startVideo)),$("body").on("contextmenu",function(){})):(destroyVideo(),alert("There is a error to play the video specified..."))}function startVideo(){buttonPlay.removeEventListener("click",startVideo),video.removeEventListener("click",startVideo),videoLoad.removeEventListener("click",startVideo),0!=dash?loadVideoDash():0!=hls?loadVideoHls():(destroyVideo(),alert("No DASH, HLS or direct video to play"))}function loadVideoDash(){dashjs.MediaPlayer().create().initialize(videoTag,dash,autoplay),addEvents()}function loadVideoHls(){console.log("Using HLS")}function addEvents(){buttonPlay.addEventListener("click",playPause),video.addEventListener("click",playPause),videoLoad.addEventListener("click",playPause),video.addEventListener("timeupdate",seekTimeUpdade),setTime.addEventListener("click",videoSeek),setTime.addEventListener("mousemove",videoSeekHover),setTime.addEventListener("dragover",videoSeekDrag),video.addEventListener("progress",videoBuffer),mute.addEventListener("click",muteVideo),setVolume.addEventListener("click",videoVolume),setVolume.addEventListener("dragover",videoVolumeDrag),fullScreen.addEventListener("click",toggleFullScreen),video.addEventListener("dblclick",toggleFullScreen),document.addEventListener("webkitfullscreenchange",exitFullScreen,!1),document.addEventListener("mozfullscreenchange",exitFullScreen,!1),document.addEventListener("fullscreenchange",exitFullScreen,!1),document.addEventListener("MSFullscreenChange",exitFullScreen,!1),video.play(),hideControls(),hotKeys(),episodeSelectPlayer(),$(buttonPlay).removeClass("playBtn").addClass("playBtn2"),$(videoLoad).removeClass("loading").addClass("loadingNone")}function episodeSelectPlayer(){$("#seasonSelect").ready(function(){$(this).on("click","#openSelector #openSpan",function(){$(".seasonGroupShow").removeClass("seasonGroupShow").addClass("seasonGroupHide"),$("#seasonSelect").removeClass("seasonSelectHide").addClass("seasonSelectShow")}),$(this).on("click",".seasonSelectShow .season",function(){$(".seasonSelectShow").removeClass("seasonSelectShow").addClass("seasonSelectHide"),$(".seasonNameShow").removeClass("seasonNameShow").addClass("seasonNameHide"),indiceShow=$(this).index(),indiceShow++,$("#episodeSelect #seasonGroup"+indiceShow).removeClass("seasonGroupHide").addClass("seasonGroupShow"),$("#episodeSelect #seasonName"+indiceShow).removeClass("seasonNameHide").addClass("seasonNameShow"),$(".episodeOpen").removeClass("episodeOpen").addClass("episodeClose"),$(".episodeClose:nth-of-type(1)").removeClass("episodeClose").addClass("episodeOpen")})}),$("#episodeList").on("click",".seasonGroupShow .episodeClose",function(){$(".seasonGroupShow .episodeOpen").removeClass("episodeOpen").addClass("episodeClose"),$(this).removeClass("episodeClose").addClass("episodeOpen")})}function hideControls(){$(playerBox).ready(function(){$(this).on("mouseover, mousemove","#videoTag, #controlsDiv, #mediaLoading",function(){$("#controlsDiv").removeClass("controlsDivHide").addClass("controlsDivShow"),$("#videoTag").css("cursor","auto")}),$(this).on("mouseout","#videoTag, #controlsDiv, #mediaLoading",function(){video.paused||$("#controlsDiv").removeClass("controlsDivShow").addClass("controlsDivHide")}),$(this).on("mousemove, mouseout","#videoTag",function(){video.paused||clearTimeout(autoHideControls)})}),$("#videoTag").on("mousestop",function(){video.paused||(setTimeout(autoHideControls,4e3),$("#videoTag").css("cursor","auto"))})}function autoHideControls(){video.paused||($("#controlsDiv").removeClass("controlsDivShow").addClass("controlsDivHide"),$("#videoTag").css("cursor","none"))}function playPause(){video.paused||video.ended?(video.play(),$(buttonPlay).removeClass("playBtn").addClass("playBtn2"),$(videoLoad).removeClass("videoPaused").removeClass("loading").addClass("loadingNone"),$("#controlsDiv").removeClass("controlsDivShow").addClass("controlsDivHide")):(video.pause(),$(buttonPlay).removeClass("playBtn2").addClass("playBtn"),$(videoLoad).removeClass("loading").removeClass("loadingNone").addClass("videoPaused"),$("#controlsDiv").removeClass("controlsDivHide").addClass("controlsDivShow"))}function videoSeek(e){var o=100*(e.pageX-$(this).offset().left)/$(this).innerWidth();seekTo=o.toString().slice(0,5),video.currentTime=video.duration*(o.toString()/100),slider.style.width=seekTo+"%"}function videoSeekHover(e){var o=100*(e.pageX-$(this).offset().left)/$(this).innerWidth();timePreview.style.display="flex",timePreview.style.left="calc("+o+"% - "+timePreview.offsetWidth/2+"px)",seekToHover=video.duration*(o.toString()/100),timePreview.innerHTML=convertTime(seekToHover),this.addEventListener("mouseout",function(){timePreview.removeAttribute("style")})}function videoSeekDrag(e){setTime.removeEventListener("click",videoSeek),video.paused||playPause();var o=100*(e.pageX-$(this).offset().left)/$(this).innerWidth();seekTo=o.toString().slice(0,5),video.currentTime=video.duration*(seekTo/100),timePreview.style.left="calc("+o+"% - "+timePreview.offsetWidth/2+"px)",timePreview.innerHTML=convertTime(video.duration*(o.toString()/100)),slider.style.width=seekTo+"%",setTime.addEventListener("click",videoSeek),setTime.addEventListener("dragend",playPause)}function videoBuffer(){if(0!=dash){var e=video.buffered.end(video.buffered.length-1),o=video.duration;o>0&&(bufferDiv.style.width=e/o*100+"%")}else bufferDiv.style.width="100%"}function seekTimeUpdade(){var e=video.currentTime*(100/video.duration),o=convertTime(video.currentTime),s=convertTime(video.duration);slider.style.width=e+"%",currentTime.innerHTML=o,totalTime.innerHTML=s}function muteVideo(){video.muted?(video.muted=!1,volumeSlider.value=50,$(mute).removeClass("soundMuted").addClass("sound2")):(video.muted=!0,volumeSlider.value=0,$(mute).removeClass("sound2").removeClass("sound").addClass("soundMuted"))}function videoVolume(e){var o=100*(e.pageY-$(this).offset().top)/$(this).innerHeight();seekToTop=o.toString().slice(0,5),seekTo=100-seekToTop,volumeSeek()}function videoVolumeDrag(e){setVolume.removeEventListener("click",videoVolume);var o=100*(e.pageY-$(this).offset().top)/$(this).innerHeight();seekToTop=o.toString().slice(0,5),seekTo=100-seekToTop,volumeSeek(),setVolume.addEventListener("click",videoVolume)}function volumeSeek(){video.volume=seekTo/100,volumeSlider.style.height=seekTo+"%",video.volume>0?(video.muted=!1,video.volume<.5?$(mute).removeClass("soundMuted").removeClass("sound2").addClass("sound"):video.volume<=1&&$(mute).removeClass("soundMuted").removeClass("sound").addClass("sound2")):0==video.volume&&(video.muted=!0,$(mute).removeClass("sound2").removeClass("sound").addClass("soundMuted"))}function toggleFullScreen(){document.fullScreenElement&&null!==document.fullScreenElement||!document.mozFullScreen&&!document.webkitIsFullScreen?(playerBox.requestFullScreen?playerBox.requestFullScreen():playerBox.mozRequestFullScreen?playerBox.mozRequestFullScreen():playerBox.webkitRequestFullScreen&&playerBox.webkitRequestFullScreen(),$("#playerBox").removeClass("playerBoxShow").addClass("playerBoxShowFull")):(document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen(),$("#playerBox").removeClass("playerBoxShowFull").addClass("playerBoxShow"))}function exitFullScreen(){"FullscreenOff"==(document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen?"FullscreenOn":"FullscreenOff")&&$("#playerBox").removeClass("playerBoxShowFull").addClass("playerBoxShow")}function hotKeys(){$(document).on("keyup",function(e){e.preventDefault();var o=e.which||e.keyCode;32==o&&playPause(),77==o&&muteVideo(),70==o&&toggleFullScreen()})}var ajaxFile=baseUrl+"ajax/ajaxRequisitions.php";